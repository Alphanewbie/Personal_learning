## 백준 1309

https://www.acmicpc.net/problem/1309

### 문제

*어떤 동물원에 가로로 두칸 세로로 N칸인 아래와 같은 우리가 있다.*

*![img](https://www.acmicpc.net/upload/201004/dnfl.JPG)*

*이 동물원에는 사자들이 살고 있는데 사자들을 우리에 가둘 때, 가로로도 세로로도 붙어 있게 배치할 수는 없다. 이 동물원 조련사는 사자들의 배치 문제 때문에 골머리를 앓고 있다.*

*동물원 조련사의 머리가 아프지 않도록 우리가 2*N 배열에 사자를 배치하는 경우의 수가 몇 가지인지를 알아내는 프로그램을 작성해 주도록 하자. 사자를 한 마리도 배치하지 않는 경우도 하나의 경우의 수로 친다고 가정한다.*



### 입력

*첫째 줄에 우리의 크기 N(1≤N≤100,000)이 주어진다.*

### 출력

*첫째 줄에 사자를 배치하는 경우의 수를 9901로 나눈 나머지를 출력하여라.*



***

### 풀이

일단 작은 수부터 생각해 보았다.



N=1 일 때

![그림1](./그림1.png)

3가지의 경우가 있다.



N=2일대

![그림2](./그림2.png)

7가지 경우가 있다.



N이 3일때는 17가지의 경우가 있다.

이를 찬찬히 본 결과,

경우는 2가지로 나뉘는데

1. N-1단에 사자가 들어가 있는 경우
2. N-1단에 사자가 들어가 있지 않을 경우



일단 1번의 경우

N-1단에 사자가 한마리라도 들어가 있으면  N단에 추가 할 수 있는 경우는 딱 2가지 뿐이다. 사자가 들어가 있는 우리의 대각선 아래 부분에 사자가 들어가는 경우, 사자를 안 넣는 경우



그리고 다음 2번의 경우

N-1단에 사자가 한마리도 안 들어가 있는 경우, N단에 추가할 수 있는 경우는 3가지로 나뉜다. 왼쪽, 오른쪽, 사자를 안 넣는 경우



그럼 여기까지 오면 그 경우를 나눠서 계산하면 된다.

그래서 처음에는 N =3때까지의 경우를 본 결과, 2번의 경우는 지금 dp[i-1]/2의 경우이고 1번의 경우는 그 나머지 경우라는 것이 있었다.

```sudocode
dp[i] <- int(dp[i-1]/2)*3 + (dp[i-1]-int(dp[i-1]/2)) *2
```

그래서 점화식을 이렇게 세월지만 바로 4번 부터 에러가 났다.



왜나면 dp[3] = 17

int(dp[3]/2) = 8이지만

dp[4]일 때는 7가지였다.



즉, 안된다는 것을 알았다.



그래서 좀더 생각해 본 결과

dp[n]에서 dp[n-1]에서 진짜 아무것도 안하고 그대로 양 쪽이 전부 빈 우리를 붙혔던 경우 밖에 없는데

즉, 쉽게 말해 dp[n-1]의 가짓수가 2번의 경우가 되었다

```sudo
dp[i] = dp[i-2]*3 + (dp[i-1]-dp[i-2])*2)
```






### 전체 코드

```c++
n = int(input())

dp = [0,3,7]

for i in range(3,n+1) :
    dp.append((dp[i-2]*3 + (dp[i-1]-dp[i-2])*2)%9901)

print(dp[n])
```

