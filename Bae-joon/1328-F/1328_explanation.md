## 백준 1328번 풀이

https://www.acmicpc.net/problem/1328

### 문제

*상근이가 살고있는 동네에는 빌딩 N개가 한 줄로 세워져 있다. 모든 빌딩의 높이는 1보다 크거나 같고, N보다 작거나 같으며, 같은 높이를 가지는 빌딩은 없다. 상근이는 학교 가는 길에 가장 왼쪽에 서서 빌딩을 몇 개 볼 수 있는지 보았고, 집에 돌아오는 길에는 가장 오른쪽에 서서 빌딩을 몇 개 볼 수 있는지 보았다.*

*상근이는 가장 왼쪽과 오른쪽에서만 빌딩을 봤기 때문에, 빌딩이 어떤 순서로 위치해있는지는 알 수가 없다.*

*빌딩의 개수 N과 가장 왼쪽에서 봤을 때 보이는 빌딩의 수 L, 가장 오른쪽에서 봤을 때 보이는 빌딩의 수 R이 주어졌을 때, 가능한 빌딩 순서의 경우의 수를 구하는 프로그램을 작성하시오.*

*예를 들어, N = 5, L = 3, R = 2인 경우에 가능한 빌딩의 배치 중 하나는 1 3 5 2 4이다.*



### 입력

*첫째 줄에 빌딩의 개수 N과 가장 왼쪽에서 봤을 때 보이는 빌딩의 수 L, 가장 오른쪽에서 봤을 때 보이는 빌딩의 수 R이 주어진다. (1 ≤ N ≤ 100, 1 ≤ L, R ≤ N)*



### 출력

*첫째 줄에 가능한 빌딩 순서의 경우의 수를 1000000007로 나눈 나머지를 출력한다.*

***



### 풀이

처음에는 순열 조합 같은 문제라고 생각했던 문제였다.

예를 들면  왼쪽에서 보이는 빌딩이 3개이고, 오른쪽에서 보이는 빌딩이 2개라면

​          |

​     |   |

 |  |   |   |

이런 식으로 가운데에 가장 큰 빌딩을 세워 두고 양측으로 빌딩을  높은 순서대로 나눠서 그 사이에 그보다 작은 빌빌딩을 끼워넣는 순열 문제인 줄 알았다.



하지만, 이런 방식으로 하면 가운데 빌딩을 제외한 나머지 빌딩을 따로 세워두고 남은 빌딩을 양측으로 분리하는 작업과 또 그 빌딩들 사이에 빌딩을 세우는 조합 과정에서 문제가 생겼는지 계속해서 틀렸습니다 나오게 되었다.



그래서 다른 풀이를 검색해 본 결과 다이나믹 프로그래밍 문제로 해결하는 문제였다.

예를 들면 일단 높이 N의 빌딩을 세운다.

그리고 그 다음에 N-1 의 빌딩을 세우는데, 이것을 N의 빌딩의 왼쪽이나 오른쪽에 세우는데, 만약 왼쪽에 세운다면 왼쪽에서 보이는 빌딩의 수가 늘어날 것이고, 오른쪽에 세우면 오른쪽에 보이는 빌딩의 갯수가 늘어날 것이다.

그 다음으로 N-2의 빌딩을 추가한다고 했을때는 왼쪽이나 오른 쪽에 추가하면 보이는 빌딩의 갯수가 늘어날 것이다. 하지만 그 사이에 끼워 넣는다면 빌딩의 갯수가 늘어나지 않을 것이다.




### 전체 코드

```python
import sys
input = sys.stdin.readline

if __name__ == "__main__" :
    n,l,r = map(int,input().strip().split())

    dp = [[[0]*(r+1) for _ in range(l+1)]for _ in range(n+1)]
    dp[1][1][1] = 1
    for i in range(2, n + 1):
        for j in range(1, l + 1):
            for k in range(1, r + 1):
                dp[i][j][k] = (dp[i - 1][j][k - 1] + dp[i - 1][j - 1][k] + (i - 2) 
                               * dp[i - 1][j][k])%1000000007
    print(dp[n][l][r])
```

