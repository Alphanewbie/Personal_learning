# 화일 구조

## Ch01. 화일의 기본 개념

### 데이터, 레코드

- 데이터 필드(field), 애트리뷰트(attribute),  데이터 항목(item)

  - 이름을 가진 논리적 데이터의 최소 단위 (예) 학번, 이름, 학년
  - 특정 객체(object, entity)의 한 성질을 표현

- 레코드 타입(record type)

  - 논리적으로 서로 연결된 데이터 필드(항목)들의 집합

    (예) 학생(student) = (학번, 이름, 학년, 나이, 키, 몸무게)

  - 엔티티 타입(entity type)

- 레코드 어커런스(record occurrence)

  - 한 레코드 타입의 인스턴스(instance)

  - 레코드 타입의 각 필드에 따라 실제값이 들어가 어떤 특징을 나타내는 것

    (예) sutent12345 = (12345, "홍길동", 2, 20, 175, 70)

  - 보통 간단히 레코드 라고 부른다.



### 화일, 화일 구조

- 화일(file)
  - 어떤 응용 목적을 위해 **보조 기억 장치에 지정된 데이터(레코드)들의 집합**
- 화일 구조(file structure)
  - **파일을 구성하는 데이터들의 표현과 연산**
- 데이터를 화일로 구성/저장하는 이유
  1. 메인 메모리에 전부 적재하기에 데이터 양이 너무 많다.
  2. 프로그램은 특정 시간에 데이터 집합의 일부만 접근한다.
     - 데이터 전부를 메인 메모리에 한꺼번에 저장시킬 필요 없음
  3. 데이터를 특정 프로그램과 별도로 보관 시켜 데이터의 독립성(independency)을 유지하기 위함.
     - 여러 응용 프로그램이 공용가능

### 화일의 분류

- 화일의 기능에 따라
  - 마스터 화일
  - 트랜젝션 화일
  - 보고서 화일
  - 작업 화일
  - 프로그램 화일
  - 텍스트 화일
  - 

#### 마스터 화일

- 어느 한 시점에서 조직의 운영/업무 현황을 나타내는 데이터들의 집합
  - 예 ) 급여 마스터 화일, 고객 마스터 화일, 인사 마스터 화일, 재고 마스터 화일, ...
- 비교적 영속적인 데이터 레코드들을 포함 cf)임시 화일
- 데이터의 삽입, 삭제, 수정을 통해 최신성(currency)을 유지
- 변화하는 현실 세계에 대한 정확한 정보를 제공하는 역활



#### 트랜잭션 화일

- 마스터 화일에 적용할 트랜잭션들을 저장해 놓는 화일
- 트랜잭션(transaction)
  - 마스터 화일의 **데이터를 변경하는 논리적인 작업 단위**
  - 하나의 건수로 처리되어야 하는 **분리 될 수 없는 연산 그룹**
- 트랜잭션을 구성하는 연산
  - 새로운 레코드 삽입(insert)
  - 현존 레코드의 삭제(delete)
  - 현존 레코드의 내용 수정(modify, replace)



#### 보고서 화일

- 보여주기 위한 목적으로, 데이터를 일정한 형식으로 정리해서 저장해 놓은 화일
  - 하드 카피(hard copy) 보고서 출력
  - 단말 장치 화면에 디스플레이



#### 작업 화일

- 어느 한 프로그램에서 생성된 출력 데이터를 다른 프로그램의 입력 데이터로 사용하기 위해 만드는 **임시 화일(temporary file)**
  - 시스템이 자동으로 만드는 작업 화일 (예) 정렬을 위한 화일
  - 프로그램이 만드는 작업 화일 (예) 수강신청 변경 화일
- 최종 목표를 달성하는 과정에서 만들어지는 **중간 결과를 저장하는 화일**
- 영속적이 아니라 임시로 만들어 사용



#### 프로그램 화일

- 데이터를 처리하기 위한 명령어들을 저장하고 있는 화일
- 고급언어(C,Java), 저급어(어셈블리어)로 작성
- **원시코드(source code)나 목적코드(object code)**형태



#### 텍스트 화일

- 문자, 숫자, 그래픽 데이터를 포함하는 화일
- **텍스프 편집기**의 입력 및 출력 화일



### 화일의 분류2

프로그램의 접근 목적에 따라

### 입력화일

- 프로그램이 판독을 위해 접근 하는 화일
  - 예) 컴파일러의 원시코드 프로그램 화일

#### 출력화일

- 프로그램이 기록을 위해 접근하는 화일
  - 예) 컴파일러의 목적코드 프로그램 화일

#### 입/출력 화일

- 프로그램의 실행 중 판독도 하고 기록도 하기 위해 접근하는 황
  - 예) 급여 마스터 화일

### 화일에 대한 기본연산

- 화일 생성
  - 디렉토리 엔트리 생성
- 화일 기록
  - **삽입, 삭제, 수정**
- 화일 판독
  - 디렉토리에서 화일 위치, 레코드 주소 검색
- 화일 삭제
  - 디스크 공간 반환, 디렉토리 엔트리 삭제
- 화일 개방과 폐쇄
  - **버퍼 할당/반환**

### 화일 구조 선정시 고려 요소들

- **가변성**
  - 일정 기간 동안에 전체 레코드 수에 비해 **삽입/ 삭제/ 수정되는 레코드 수**의 비율
  - 가변성이 높은 동적 화일은 빠른 접근과 갱신이 필요
- **활동성**
  - 일정 기간 동안에 화일의 총 레코드 수에 비해 **접근한 레코드 수**의 비율
- **사용 빈도수**
  - 일정 기간 동안의 화일의 **사용 빈도수**
  - 빈도수가 낮으면 순차 화일, 높으면 임의 접근 구조 유리
- **응답 시간**
  - 검색이나 갱신에 대해 요구하는 **지연시간**
  - 빠른 응답 시간을 위해 임의 접근, 인덱스를 이용한 방법 이용
- **화일 크기**
  - 시간이 지남에 따라 화일의 크기는 성장(**레코드 길이 확장, 레코드 수 증가**)
- **연산 유형과 접근 방식**
  - 화일 **판독/ 기록** 위주의 연산, **임의/ 순차 접근** 형식

