# Elasticsearch



모든 유형의 데이터를 위한 분산형 오픈소스 분산 검색 엔진.

검색을 위해 단독으로 사용되기도 하며, ELK스택으로 사용되기도 한다.

- 검색엔진
  - 웹에서 정보를 수집해 검색 결과를 제공하는 프로그램
- 검색 시스템
  - 대용량 데이터를 기반으로 신뢰성 있는 검색 결과를 제공하기 위해 검색 엔진 기반으로 구축된 시스템을
- 검색 서비스
  - 검색 엔진을 기반으로 구축한 검색 시스템을 확용해 검색 결과를 서비스로 제공한다.

## 장점

1. 엘리스틱 서치는 유연하다.
   - 역색인되는 문자열 전체를 정책에 따라 소문자 혹은 대문자로 생성하고 쿼리가 들어오는 필터를 색인시간과 검색시간에 동일하게 지정한다면 해당하는 쿼리에 어떤 문자열이 들어와도 검색이 가능하다.
2. 구조화 되지 않은 비정형 데이터도 검색이 가능하다.
3. 오픈소스 검색엔진
   - 루씬 기반으로 개발된 오픈 소스 검색엔진, 버그의 빠른 수정
4. 전문 검색이 가능하다
   - 내용 전체를 색인하여 특정 단어가 포함된 문서를 검색한다.
5. 통계분석
   - 비정형 로그데이터를 수집하고 한곳에 모아 통계뿐석이 가능하고 키바나를 통해 실시산으로 쌓이는 로그를 시각화하고 분석할 수 있다.
6. 스키마리스
   - 정형화 되지 않은 다양한 문서도 자동으로 색인하고 검색할 수 있다.
7. RESTfull API
   - HTTP 기반의 RESTful API를 지원하기 때문에 요6청뿐아니라 응답에도 JSON형식을 사용해 플랫폼에 종속되지 않고 사용이 가능하다.
8. 멀티테넌시
   - 서로 상이한 인덱스일지라도 검색할 필드명만 같으면 여러개의 인덱스를 한번에 조회할 수 있다.
9. Docuemnt Oriented
   - 여러 계층의 데이터를 Json 형식의 구조화된 문서로 인덱스에 저장할 수 있다.
10. 역색인
    - 역색인 구조를 해당 단어를 찾으면 단어가 포함된 모든 문서의 위치를 알 수 있기 때문에 빠르게 찾을 수 있다.

## ELK

### Logstash

- 다양한 소스의 로그 또는 트갠잭션데이터를 수집, 

### Elasticsearch

- Logstash로부터 받은 데이터를 검색 및 집계를 하여 필요한 관심 있는 정보를 획득

### Kibana

- Elasticsearch의 빠른 검색을 통해 데이터를 시각화 및 모니터링



## 특징

- Scale out

  - 샤드를 통해 규모가 수평적으로 늘어날 수 있음

- 고가용성

  - Replica를 통해 데이터의 안정성을 보장

- Schema Free

  - Json 문서를 통해 데이터 검색을 수행하므로 스키마 개념이 없음

- Restful

  - 데이터 CRUD 작업은 HTTP Resful API를 통해 수행하며, 각각 다음과 같이 대응한다

  - | Data CRUD | Elasticsearch Restful |
    | --------- | --------------------- |
    | Select    | GET                   |
    | Insert    | PUT                   |
    | Update    | POST                  |
    | Delete    | DELETE                |

    